# Сервис для определения людей, их расы и пола на изображениях


## Развернем среду используя контейнеры docker
1. Установим docker: https://docs.docker.com/v17.09/engine/installation/
2. Устновим GIT: https://habr.com/ru/post/125799/
3. Делаем клон репозитария 
4. Разворачиваем среду с проектом

```
$ docker-compose up -d
или
docker-compose-start.sh
```
а для удаления контейнера воспользуйтесь командным файлом 
```
docker-compose-remove.sh
```

После успешной установки введите адрес  в адресную строку
```
http://localhost:8012/
```
если появятся ошибки, измените порт в файле docker-compose.yml

Для проверки можно воспользоватья PMA ее адрес:
```
http://127.0.0.1:8112/

Login   : root
Password: root
```
Перейдите в папку www/vision и запустите команду для установки компонентов
```
composer install
```
Обновляем миграции
```
php artisav migrate:refresh
```

Можно запустить проект из Laravel
```
php artisav serv
```

и для работы с очередями

```
php artisan queue:work
```

Для работы с Vue загрузите модули
```
npm install
```


сервис работает с облачным API
```
curl -F 'image=@image.jpg' \
     -X POST http://race-and-sex-prediction-dev.us-east-2.elasticbeanstalk.com/predict
```

Все данные добавляются и просматриваются в режиме авторизованного пользователя, поэтому перед тем, как начинать работу, 
вам необходимо зарегистрироваться в сервисе. Все ваши добавленные данные будете видеть только вы.

Сервис загружает фотографию размером не более 2мб, получает результат и выделяет один или несколько объектов найденных на фото.
Результаты по рассе и полу найденных лиц отображается в виде списка.

Все результаты добавляются в общий писок, которого можно в любой момент открыть и изменить (имзменяется только наименование).
Данные можно удалить из списка и сервера нажатием на кнопкут "Удалить"

При возникновении ошибки, сервис логирует их, а также передает сообщение в интерфейс для предупреждения пользователя.

При неудачном соединении с внешним API (работа через очередь), сервис способен обработать эти данные по запросу и автоматически 
передать эти данные пользователю.

## Что исползуется в данной работе:
1. Для работы с внешним API используются очереди (реализация через mysql)
2. Реализован API для работы с Vue фронтэндом
3. Разработан Vue фронтэнд
